#summary How to add functionality to iPhone Remote

= Introduction =

Adding functionality to iPhone Remote is simple, there are two approaches, basic web pages and custom servers.

Both of these are still very much in flux, advice and suggestions are welcome!

== Basic Web Page ==

  * Since access to pages will be restricted to the current user and the communications encrypted, you can feel free to blatantly disregard any normal security concerns in web pages. That's the whole point. :)

  * Create a simple web page in html/php, etc and install it in 
   `~/Library/Application Support/iPhone Remote/Apps/<App Name>`
  * Give it a custom icon. ([http://telekinesis.blacktree.com/TappTemplate.png Icon template], its white)
   `.../Apps/<App Name>/<App Name>.png`
http://telekinesis.blacktree.com/Customapps.png


== Custom Servers ==

For more advanced apps, you may want to provide web content directly.
iPhone Remote is able to launch another program and proxy traffic to its port. An Info.plist defines this behavior:

{{{
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple Computer//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>proxyPort</key>
	<integer>8022</integer>
	<key>startTask</key>
	<dict>
		<key>arguments</key>
		<array>
			<string>-c</string>
			<string>/bin/sh</string>
		</array>
		<key>path</key>
		<string>./WebShell-0.2.2/ajaxterm.py</string>
	</dict>
</dict>
</plist>
}}}

This process will be terminated when iPhone Remote quits, if it is still running. A "stopTask" key will probably also be added.

== Built in functionality ==

The iPhone Remote server supports some basic functionality that may be useful in any application:

  * Running Scripts: /s/runscript?path=<absolute path to script> [We need to add relative-to-app-support]
  * Screen capture: /s/grabscreen
  * Move click: /s/click?x=100&y=100
  * Move mouse: /s/mousemove?x=100&y=100
  * File Icons: /s/icon?path=<Absolute path>